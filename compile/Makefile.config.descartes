#===============================================================================
#-------------------------------------------------------------------------------
# Configurable Options
#-------------------------------------------------------------------------------
CHARMBASE	= /bgusr/gmartyna/dev/charm/bluegenep-smp-xlc
LNK_OPTS	= -lz
#-------------------------------------------------------------------------------
DUAL_FFTW	= -DDUAL_FFTW_OFF
FFT_HOME	= /bgsys/local/fftw-2.1.5
#-------------------------------------------------------------------------------
LOCAL_LIBS	= -L/bgsys/local/lib \
	-L/opt/ibmcmp/xlf/bg/11.1/bglib \
	-L/opt/ibmcmp/xlsmp/bg/1.7/bglib \
	-L/bgsys/ibm_essl/sles10/prod/opt/ibmmath/lib \
	-L/bgsys/drivers/ppcfloor/gnu-linux/powerpc-bgp-linux/lib 

#===============================================================================


#===============================================================================
# General definitions (Makefile.config.gen)
#-------------------------------------------------------------------------------
# Compile options
#-------------------------------------------------------------------------------
DBG_FLAG	= -g
FOPTS           = $(DBG_FLAG) -O3
COPTS           = $(DUAL_FFTW) -DFORTRANUNDERSCORE_OFF 
OPTS            = $(FOPTS) $(COPTS) -qarch=450 -qtune=450
MATH_OPTS	= -O3 -qarch=450d -qtune=450 -qhot=simd -qhot=vector
RUNCOMMAND	= ../OpenAtom
#-------------------------------------------------------------------------------
# Directories
#-------------------------------------------------------------------------------
CPAIMD		= ../
MYMATH_HOME_INC	= ../src_mathlib/compile
VALID_DIR	= ../binary/water_32M_10Ry
VALID_EXEC	= ../autotest
AUTOTEST	= $(VALID_EXEC)
#===============================================================================


#===============================================================================
# Blas/ Lapack/ Eispack libraries
#-------------------------------------------------------------------------------
# Fortran Source / Optimized Libraries
#-------------------------------------------------------------------------------
BLAS_FORT	= ../xerbla_routine.h
LAPACK_FORT	= ../no_lapack_routines.h
EISPACK_FORT	= ../eispack_routines.h
IBM_ESSL_DUMMY	= -D_IBM_ESSL_
MATH_LIB	= $(LOCAL_LIBS) -lesslbg -lesslsmpbg -lxlf90_r  \
		-lmass -lmassv -lxlfmath -lxlomp_ser -lxlsmp -lpthread \
		$(MYMATH_HOME_INC)/xerbla.o


#===============================================================================

#===============================================================================
# PINY Definitions (Makefile.config.piny)
#-------------------------------------------------------------------------------
# PINY physics directories: forcefield, abinitio, interface 
#-------------------------------------------------------------------------------
PINY_PHY                = $(CPAIMD)/src_piny_physics_v1.0
PINY_CPAIMD_ROUT        = $(PINY_PHY)/abinito_physics
PINY_FORCEFIELD_ROUT    = $(PINY_PHY)/classical_physics
PINY_INTERFACE_ROUT     = $(PINY_PHY)/interface
#-------------------------------------------------------------------------------
# header files for PINY physics
#-------------------------------------------------------------------------------
PHYSICS_INC	= $(PINY_PHY)/include/class_defs
STANDARD_INC	= $(PINY_PHY)/include/ibm_noessl_par
#-------------------------------------------------------------------------------
# Makefile for PINY physics
#-------------------------------------------------------------------------------
MAKE_PHYS_INC	= $(PINY_PHY)/compile/ibm_noessl_par
#-------------------------------------------------------------------------------
# include file paths for physics: general
#-------------------------------------------------------------------------------
INC_OPT		= -I$(PHYSICS_INC) -I$(STANDARD_INC)
#-------------------------------------------------------------------------------
# libmodulePhysics.a is located here
#-------------------------------------------------------------------------------
PINY_LIB_PATH	= $(PINY_PHY)/runable
#-------------------------------------------------------------------------------
# Module name for reader library
#-------------------------------------------------------------------------------
INTERFACE_MOD	= Interface_ctrl
#-------------------------------------------------------------------------------
# compile time flags
#-------------------------------------------------------------------------------
FLAGS		= $(FLAG) -D_PINY_READER_ -DUSE_SPLINE_LJ
#===============================================================================


#===============================================================================
#-------------------------------------------------------------------------------
# Charm Options
#-------------------------------------------------------------------------------
CHARMC			= $(CHARMBASE)/bin/charmc $(OPTS) $(FLAGS) 
CPAIMD_DRV_SRC		= $(CPAIMD)/src_charm_driver
MAKE_CPAIMD_DRV_INC	= $(CPAIMD)/src_charm_driver/compile
CHARMLIB		= -module CkMulticast -module commlib
FORT			= $(CHARMBASE)/bin/charmc -f77
F_COMPILER		= $(FORT) $(FOPTS) 
F_COMPILER_NOPT		= $(FORT) $(DBG_FLAG)
#===============================================================================

